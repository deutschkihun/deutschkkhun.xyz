---
title: '컴퓨터구조와 운영체제'
date: '2022-04-19'
lastmod: '2022-04-19'
tags: ['computer architecture', 'OS']
draft: false
summary: 'OS 는 기술 인터뷰에서 지원자의 기본적인 컴퓨터 공학 지식을 확인하기 위해 자주 사용되는 주제중에 하나 입니다. 좀 더 자세하고 완벽한 인터뷰 준비를 위해서는 OS 관련 지식에 대해서 아는 것은 굉장히 중요하다고 생각합니다. 이번 포스팅을 통해 필자가 중요하다고 생각하는 OS 관련 배경지식에 대해서 알아보겠습니다.'
authors: ['default']
---

![tailwind-nextjs-banner](/static/os-basic/cover.jpg)

OS 는 기술 인터뷰에서 지원자의 기본적인 컴퓨터 공학 지식을 확인하기 위해 자주 사용되는 주제중에 하나 입니다. 좀 더 자세하고 완벽한 인터뷰 준비를 위해서는 OS 관련 지식에 대해서 아는 것은 굉장히 중요하다고 생각합니다. 이번 포스팅을 통해 필자가 중요하다고 생각하는 OS 관련 배경지식에 대해서 알아보겠습니다

## 1. 컴퓨터 구조를 및 운영체제를 알아야햐는 이유

- 컴퓨터 구조는 성능(performance),용량(capacity),비용(cost) 과 관련된 문제를 효과적으로 해결하기 위해서는 컴퓨터 구조에 대한 깊은 이해도가 필요하다.
- 운영체제는 프로그램을 위한 프로그램이다. 따라서 프로그램을 만드는 개발자는 운영체제에 잘 알지 못하면 좋은 프로그램을 만들기 어렵다.

## 2. 컴퓨터 구조의 기초

컴퓨터는 2가지 정보를 이해할 수 있으며 크게 4가지 구성요소를 가진다.

컴퓨터는

- 명렁어
- 데어터

를 이해 할 수 있으며

- CPU
- 메모리(RAM)
- 디스크(보조기억장치)
- 입출력장치(I/O)
- 메인보드
- 시스템버스

![computer-architecture](/static/os-basic/layout.png)

로 구성되어있다.

## 3. 컴파일

컴퓨터는 컴파일이라는 과정을 통해 progmramming langugage 를 machine langugage command (ex ByteCode) 로 변환하여 프로그램을 실행한다.

![computer-architecture](/static/os-basic/compile.png)

## 4. CPU (프로세서)

CPU는 메모리에 저장된 명령어를 읽어 드리고, 해석하고 실행한다.

CPU 는

- ALU (arithmetic and logical unit): 컴퓨터의 계산기
- 레지스터 (register): cpu 내부의 임시 저장 장치 (temporary storage)
- 제어장치 (control unit): 제어신호 (메모리 읽기 및 쓰기 신호) 를 발생시키고 명령어를 해석하는 장치
- 캐시메모리: CPU가 메모리(RAM)에 저장된 데이터를 읽어올 때, 자주 사용하는 데이터를 캐시 메모리에 저장한 뒤, 다음에 이용할 때 메모리(RAM) 아닌 캐시 메모리에서 먼저 가져오면서 속도를 향상시킨다.

로 구성되어있다.

## 5. 메모리(ex. RAM)

메모리는 **현재 실행되는** 프로그램의 명령어와 데이터를 저장하는 임시 저장공간이다. 따라서 프로그램이 실행 되려면 메모리에 프로그램의 일부 (명령어,리소스 등)이 저장되어있아야 한다.
일부만 올라가는 이유는 저장비용이 높기때문이다. 또한 메모리는 전원이 꺼지면 다 날라간다.

- 가상메모리 :provides an abstraction of physical memory, allowing processes to access more memory than is actually physically available in the system.

![computer-architecture](/static/os-basic/memory.png)

위처럼 메모리는 명령어 혹은 리소스를 저장하고 있으며 해당되는 정보의 address 도 같이 가지고 있다.

## 6. CPU 와 메모리의 동작원리

1. 1번지에 위치한 메모리를 CPU 가 읽기 위해서 메모리 읽기 제어 신호를 보내준다.

![computer-architecture](/static/os-basic/step1.png)

2. 메모리 읽기 신호를 통해 1번지에 위치한 데이터를 레지스터에 저장한다. 그리고 나서 제어장치를 통해 명령어를 해석한다. 해석 결과에 따라 3번지와 4번지를 더하라는 것을 이해한 CPU 는 다시한번 제어장치를 통해 메모리 읽기 신호를 보내어 3번지와 4번지 정보를 읽어들인다.

![computer-architecture](/static/os-basic/step2.png)

3. 읽어 들인 결과를 다시 레지스터에 저장한다. 그리고 해석한 명령어의 결과에 따라 3번지 데이터와 4번지 데이터를 더하는 연산을 ALU 를 통해 처리한다.

![computer-architecture](/static/os-basic/step3.png)

4. 마지막으로 2번지에 데이터를 제어신호를 보내어서 읽어 들이고 레지스터에 저장된 결과값을 메모리 쓰기 제어 신호를 통해 메모리에 저장하여 모든 과정을 마무리한다.

![computer-architecture](/static/os-basic/step4.png)

## 7. 보조기억장치(디스크)

쉽게 말해 하드디스크를 말한다. 전원이 꺼져도 보관될 프로그램을 저장하는 공간이며, 저장 비용이 메모리보다 훨씬 저렴하다.

## 8. 입출력장치

- 입출력 장치, 예를들면 모니터,스피커

## 9. 메인보드 / 시스템 버스

메인보드는 CPU 와 메모리를 포함하고 있는 하나의 판이라고 생각하면 된다.

![computer-architecture](/static/os-basic/main-board.png)

그리고 메인보드가 I/O 혹은 보조기억장치와 데이터를 주고 받기 위해서 사용하는 하나의 통로를 시스템 버스라고 한다.

메인보드에 연결된 부품은 **버스** 라는 통로를 통해 정보를 주고 받는다. 그중에서 CPU,메모리를 연결하는 버스를 시스템 버스라고 한다.

## 10.컴퓨터 구조의 작동 흐름

1. 개발자들이 C,Java 와 같은 언어로 프로그램을 만든다 라고 했을 떄 사람이 작성한 코드는 기계가 읽을 수 없다. 따라서 컴파일을 하여 기계가 읽을 수 있는 bytecode 변환해주어야 한다. 이렇게 해서 만들어지는 **프로그램** 에는 다음과 같은 것들이 있다.

- .exe (실행파일)
- .dll (라이브러리)

이렇게 만들어진 **프로그램** 들은 저장소에 두 부분으로 나뉘어서 저장된다.

- 코드
- 리소스

2. 프로그램을 실행하게 되면 코드의 일부분 그리고 리소스의 일부분이 **메모리**에 올라가게 된다. 올라간 코드와 리소스들은 명령어에 의해 CPU 에서 해당하는 명령어를 처리하게 된다.

3. 여기서 프로그램이 메모리로 올라가는 순간을 **프로세스** 라고 한다. 즉 자원을 할당받아 프로그램이 실행되고 있는 것을 **프로세스** 라고 말할수 있다. 그리고 특정 **프로세스** 에 대한 정보를 저장하고 있는 자료구조를 PCB 라고 한다.

4. **프로세서**는 CPU를 말한다.

5. **프로세스**들은 특정 시간 만큼 CPU 에 배정을 받아서 여러개의 프로세스들이 차례차례 실행된다.(워낙 빨리 실행되어 동시에 일어나는 것처럼 보임) 이렇게 시간 단위로 프로세스들을 분할하여 실행하는 방식을 **시분할** 이라고 한다.

6. 또한 CPU 가 처리해야 할 프로세스들을 순서를 정하고 관리해주는 것을 **스케줄링** 이라고 한다. 그리고 이러한 스케줄링을 관리해주는 역할을 운영체제가 담당한다.

- 선점형(preemptive) 스케줄링: 우선순위가 높은 프로세스를 먼저 처리해주는 방식
- Swapper 스케줄링: 자주 사용되는 프로세스를 처리해주고, 장기간 사용되지 않은 프로세스는 디스크에 저장시키는 방식. 이과정을 swapping 이라고 한다.

## 11. 운영체제

- 프로세스를 관리하는 특별한 프로그램
- 자원을 관리하는 특별한 프로그램

운영체제 또한 프로그램이기 때문에 **메모리**에 저장되어 있음

![computer-architecture](/static/os-basic/kernel.png)

다른 프로그램들과 달리 운영체제는 커널영역에 저장되어 사용자 영역의 프로그램을 관리한다.

![computer-architecture](/static/os-basic/memory-management.png)

이처럼 특정 프로그램이 실행 되려고 할때 운영체제가 해당 프로그램을 어느 사용자 영역의 메모리 공간에 넣어야 할지 관리한다. 이를 스케줄링이라고 한다. 또한 여러개의 프로그램이 동시에
돌아간다고 말하는 것은 정확히 말하자면 모든 프로그램이 순차적으로 작동하지만 매우 짧은 시간에 일어나서 사람이 동시에 작동한다고 인지하기 때문에 프로그램이 동시에 작동하는 것처럼 느껴지는 것이다.

![computer-architecture](/static/os-basic/scheduling.png)

운영체제가 스케줄링 관리를 해주며, 시스템 call 혹은 이라는 문지기 역할을 담당한다. 이는 수많은 프로세스들이 자원에 아무렇지 않게 직접 접근하는 것을 막아 자원을 보호해주는 역할을 한다.
위의 그림처럼 여러개의 프로세스가 하나의 자원을 access 하려고 할때 스케줄링을 하여 정해진 프로세스 처리 순서에 따라 결과가 달라지는 것은 race condition 이라고 한다.

## 12. 스레드

- 프로세스 내에서 실행되는 흐름의 단위를 말한다. (A unit of flow that runs within a process)
- 그와 반면에 프로세스는 프로그램을 실행 단위를 말한다. (process unit of program execution)

싱글스레드 멀리스레드는 싱글 스레드의 경우 한번에 하나의 콜스택을 호출한다는 개념, 즉 한번에 하나의 프로그램만 실행가능. 멀티스레드는 한번에 여러개의 콜스택 호출이 가능하기 때문에 한번에
여러개의 프로그램 처리 가능. 속도는 그래서 멀티스레드가 더 빠름, 다만 OS 의 support 가 필요하다.

#### reference

- [Interview_Question_for_Beginner](https://github.com/JaeYeopHan/Interview_Question_for_Beginner/tree/master/OS#%ED%9)

- [프로세스와 스케줄링](https://velog.io/@xxhaileypark/%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4-%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81)

- [비전공자분들 위한 컴퓨터 전공 수업 10분으로 압축 (컴퓨터 구조 + 운영 체제)](https://www.youtube.com/watch?v=J06SirxZG7M)

- [컴퓨터 구조와 운영체제 50분만에 핵심 개념 정복하기 (ft. 강민철 저자님)](https://www.youtube.com/watch?v=LBqJwmFMQHI)
